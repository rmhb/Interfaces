<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Marcas" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="12eb6319-fabf-4958-a3fb-edce5917653e">
	<property name="ireport.zoom" value="1.9487171000000014"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="96"/>
	<subDataset name="datosPieChart" uuid="b42f0e42-8aba-45e8-98a5-5bf5f720e81d">
		<queryString>
			<![CDATA[SELECT count(*) as total, marca  FROM coche GROUP BY marca LIMIT 7]]>
		</queryString>
		<field name="total" class="java.lang.Long"/>
		<field name="marca" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
	</subDataset>
	<queryString>
		<![CDATA[select * from coche order by marca]]>
	</queryString>
	<field name="id" class="java.lang.Long">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="marca" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="modelo" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="antiguedad" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="num_chasis" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="color" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="plazas" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="modelo_1" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{modelo}]]></variableExpression>
	</variable>
	<variable name="modelo_2" class="java.lang.Integer" resetType="Group" resetGroup="grupoMarcas" calculation="Count">
		<variableExpression><![CDATA[$F{modelo}]]></variableExpression>
	</variable>
	<variable name="Promedio" class="java.lang.Number" resetType="Group" resetGroup="grupoMarcas" calculation="Average">
		<variableExpression><![CDATA[$V{modelo_2}]]></variableExpression>
	</variable>
	<group name="grupoMarcas">
		<groupExpression><![CDATA[$F{marca}]]></groupExpression>
		<groupHeader>
			<band height="56">
				<textField>
					<reportElement x="57" y="11" width="160" height="20" forecolor="#003333" uuid="a053f6b9-0953-4ccc-bf75-3821450da807"/>
					<textElement>
						<font size="14" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Marca: "+$F{marca}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="32" width="138" height="20" uuid="d67c0c47-eb7e-4f27-a079-333d6d06f3fd"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Modelo]]></text>
				</staticText>
				<staticText>
					<reportElement x="138" y="32" width="138" height="20" uuid="fa965af8-5513-432e-990e-bef8799938b4"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Antigüedad]]></text>
				</staticText>
				<staticText>
					<reportElement x="276" y="32" width="138" height="20" uuid="a8c9fbd9-ff25-4d22-ab6a-0d306a4ac4e4"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Color]]></text>
				</staticText>
				<staticText>
					<reportElement x="414" y="32" width="138" height="20" uuid="b4aebacc-f1c7-4b75-9859-c9667f0f704e"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Número Plazas]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="27">
				<textField>
					<reportElement mode="Opaque" x="300" y="7" width="255" height="20" backcolor="#CCFFCC" uuid="06521ac8-afa9-4414-b0da-901285cbf384"/>
					<textFieldExpression><![CDATA["Numero vehiculos marca "+$F{marca}+": "+$V{modelo_2}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<textField pattern="dd/MM/yyyy">
				<reportElement x="455" y="0" width="100" height="20" uuid="acfbb363-1718-4920-9f81-d51998ff2ea2"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="217" y="0" width="139" height="79" uuid="ecfeda5d-01a7-4a6b-b95a-cb2edbe69dc1"/>
				<imageExpression><![CDATA["C:\\Users\\NASA\\Documents\\NetBeansProjects\\IntefaceesUD7\\src\\main\\resources\\img\\how-to-draw-old-cars-step-14.jpg"]]></imageExpression>
			</image>
			<image>
				<reportElement x="0" y="0" width="57" height="34" uuid="7535808b-9b6d-4d54-9408-84b58a9ef4bd"/>
				<imageExpression><![CDATA["C:\\Users\\NASA\\Documents\\NetBeansProjects\\IntefaceesUD7\\src\\main\\resources\\img\\logo.jpg"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="57" y="0" width="100" height="20" forecolor="#99CC00" uuid="d365d697-2cdd-41fd-9b21-4781efada00e"/>
				<textElement>
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Rental Green]]></text>
			</staticText>
			<staticText>
				<reportElement x="57" y="20" width="117" height="20" uuid="d929de26-2785-41cc-9eb9-b1ceb3ca8573"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[Avd. del conocimiento, 12]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="40" width="189" height="20" uuid="d8f94ec0-ad33-499d-9aea-2f53783d61b5"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[666 666 666      Granada]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch">
			<rectangle>
				<reportElement x="0" y="0" width="555" height="35" backcolor="#00CC00" uuid="94b4b7f5-abff-41d8-83c6-eada169e290f"/>
			</rectangle>
			<staticText>
				<reportElement x="0" y="0" width="555" height="35" forecolor="#CCFFCC" uuid="3ed87b6b-caee-4efb-b888-15d72c4a38f8"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[Listado de Vehículos por Marcas]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="26" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="138" height="20" uuid="4c69b9a4-ee97-4e98-b8c6-2e43530d57a3"/>
				<textFieldExpression><![CDATA[$F{modelo}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="138" y="0" width="138" height="20" uuid="75acee2f-f7d4-4a3a-9715-94165f4587cc"/>
				<textFieldExpression><![CDATA[$F{antiguedad}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="276" y="0" width="138" height="20" uuid="3e6f6d2b-1b85-45e4-814c-028aed1f24b9"/>
				<textFieldExpression><![CDATA[$F{color}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="414" y="0" width="138" height="20" uuid="8d5c4a80-5880-4cd8-b3da-f8749692cfb0"/>
				<textFieldExpression><![CDATA[$F{plazas}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="2" y="22" width="550" height="1" forecolor="#003300" uuid="dbd325ea-c9d0-41ab-b1ab-29e9619f2e26"/>
			</line>
			<line>
				<reportElement x="0" y="-4" width="552" height="1" forecolor="#99CC00" uuid="15b8bfb9-90a8-4f2f-9c51-b26cd7940402"/>
				<graphicElement>
					<pen lineStyle="Double"/>
				</graphicElement>
			</line>
		</band>
	</detail>
	<pageFooter>
		<band height="45" splitType="Stretch">
			<image>
				<reportElement x="200" y="11" width="155" height="32" uuid="59991477-cb50-41f0-b88f-078270587bae"/>
				<imageExpression><![CDATA["C:\\Users\\NASA\\Documents\\NetBeansProjects\\IntefaceesUD7\\src\\main\\resources\\img\\justCars.png"]]></imageExpression>
			</image>
			<textField>
				<reportElement x="397" y="17" width="80" height="20" uuid="45e27ebb-2b54-4715-b790-b1d5d63a6797"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="477" y="17" width="40" height="20" uuid="8904557f-d3be-473c-815f-cecc93456d29"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="403" splitType="Stretch">
			<rectangle>
				<reportElement x="1" y="2" width="552" height="40" backcolor="#CCFFCC" uuid="ff637008-3cd5-43e3-8f2a-b05e34286642"/>
			</rectangle>
			<textField>
				<reportElement x="138" y="19" width="100" height="20" uuid="a2418145-ffd2-44b4-a83f-cf07fd162ee5"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{modelo_1}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="20" width="138" height="20" uuid="7d1d6f7c-f9e1-4728-9052-9eaf20d02369"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Número total vehículos]]></text>
			</staticText>
			<staticText>
				<reportElement x="292" y="19" width="100" height="20" uuid="f3f864ed-5247-4f67-876d-a8927d533b08"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<text><![CDATA[Promedio Vehiculos: ]]></text>
			</staticText>
			<textField>
				<reportElement x="397" y="20" width="100" height="20" uuid="7af4cc12-f531-4df4-a982-657d1853ed72"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Promedio}]]></textFieldExpression>
			</textField>
			<pie3DChart>
				<chart>
					<reportElement x="20" y="60" width="532" height="287" uuid="60ac33c1-5914-4d80-b5f2-cb8f6c710794"/>
					<chartTitle/>
					<chartSubtitle/>
					<chartLegend/>
				</chart>
				<pieDataset>
					<dataset>
						<datasetRun subDataset="datosPieChart" uuid="0a4cf306-d8a0-4cc5-bb58-4c73108b308d"/>
					</dataset>
					<keyExpression><![CDATA[$F{marca}]]></keyExpression>
					<valueExpression><![CDATA[$F{total}]]></valueExpression>
				</pieDataset>
				<pie3DPlot>
					<plot/>
					<itemLabel/>
				</pie3DPlot>
			</pie3DChart>
		</band>
	</summary>
</jasperReport>
